---
const links = [
  { href: '/', label: 'Inicio' },
  { href: '/cabanas', label: 'Cabañas' },
  { href: '/senderismo', label: 'Senderismo' },
  { href: '/dia-de-campo', label: 'Día de Campo' },
  { href: '/actividades', label: 'Actividades' },
  { href: '/contacto', label: 'Contacto' },
]
---

<header class="fixed top-0 left-0 right-0 z-40 transition-all duration-500" id="navbar">
  <nav class="max-w-6xl mx-auto px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      <a href="/" class="font-display text-2xl font-semibold text-white tracking-wide italic drop-shadow-md">
        Finca Las Cuevas
      </a>

      <ul class="hidden lg:flex items-center gap-10">
        {links.map(link => (
          <li>
            <a
              href={link.href}
              class="text-white/80 hover:text-white text-[13px] font-medium uppercase tracking-[0.15em] transition-colors duration-300"
            >
              {link.label}
            </a>
          </li>
        ))}
      </ul>

      <button id="menu-toggle" class="lg:hidden flex flex-col gap-[5px] p-2" aria-label="Abrir menú">
        <span class="block w-6 h-[1.5px] bg-white transition-all duration-300" id="bar1"></span>
        <span class="block w-6 h-[1.5px] bg-white transition-all duration-300" id="bar2"></span>
        <span class="block w-4 h-[1.5px] bg-white transition-all duration-300 ml-auto" id="bar3"></span>
      </button>
    </div>
  </nav>

  <div id="mobile-menu" class="lg:hidden hidden bg-charcoal/95 backdrop-blur-sm">
    <ul class="flex flex-col px-8 py-6 gap-1">
      {links.map(link => (
        <li>
          <a
            href={link.href}
            class="block py-3 text-white/80 hover:text-white text-sm uppercase tracking-[0.15em] transition-colors border-b border-white/5 last:border-0"
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</header>

<script>
  const navbar = document.getElementById('navbar')!
  const toggle = document.getElementById('menu-toggle')!
  const menu = document.getElementById('mobile-menu')!
  const bar1 = document.getElementById('bar1')!
  const bar2 = document.getElementById('bar2')!
  const bar3 = document.getElementById('bar3')!

  let isOpen = false

  window.addEventListener('scroll', () => {
    if (window.scrollY > 60) {
      navbar.classList.add('bg-charcoal/90', 'backdrop-blur-sm', 'shadow-sm')
    } else {
      navbar.classList.remove('bg-charcoal/90', 'backdrop-blur-sm', 'shadow-sm')
    }
  })

  toggle.addEventListener('click', () => {
    isOpen = !isOpen
    menu.classList.toggle('hidden')
    if (isOpen) {
      bar1.style.transform = 'rotate(45deg) translate(3px, 3px)'
      bar2.style.opacity = '0'
      bar3.style.transform = 'rotate(-45deg) translate(5px, -5px)'
      bar3.style.width = '100%'
    } else {
      bar1.style.transform = ''
      bar2.style.opacity = '1'
      bar3.style.transform = ''
      bar3.style.width = ''
    }
  })

  menu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      menu.classList.add('hidden')
      isOpen = false
      bar1.style.transform = ''
      bar2.style.opacity = '1'
      bar3.style.transform = ''
      bar3.style.width = ''
    })
  })
</script>
